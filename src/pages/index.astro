---
import Layout from "../layouts/Layout.astro";

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.

import { Hero } from "../components/Hero";
import { EventList } from "../components/EventList";
import { CommunityStats } from "../components/CommunityStats";
import { getCollection } from "astro:content";

const events = await getCollection("events");
// Get only upcoming or recent events (top 3)
const recentEvents = events
    .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
    .slice(0, 3);
---

<Layout title="AWS User Group Jakarta - Community Portal">
    <Hero client:load />
    <EventList client:visible events={recentEvents} />
    <CommunityStats client:visible />
</Layout>
